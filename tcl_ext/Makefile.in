
CFLAGS += -I.. -I../src -I@TCL_INC_DIR@
LDFLAGS += -L.. -lming $(LIBS)

all: mingc.so

mingc.so: ming_wrap.o
	$(CC) $(CFLAGS) -fpic -shared -o mingc.so ming_wrap.o $(LDFLAGS)

ming_wrap.o: ming_wrap.c
	$(CC) $(CFLAGS) -fpic -c ming_wrap.c -o ming_wrap.o

ming_wrap.c:
	swig -I.. -tcl ming.i

clean:
	rm -f mingc.so core ming_wrap.c ming_wrap.doc *~ *.o 

