
CFLAGS += -I.. -I../src -I/usr/include/tcl8.4
LDFLAGS += -L.. -lming $(LIBS)

all: mingc$(NOVAR_SHLIBEXT)

mingc$(NOVAR_SHLIBEXT): ming_wrap.o
	$(CC) $(CFLAGS) -fpic -shared -o mingc$(NOVAR_SHLIBEXT) ming_wrap.o $(LDFLAGS)

ming_wrap.o: ming_wrap.c
	$(CC) $(CFLAGS) -fpic -c ming_wrap.c -o ming_wrap.o

ming_wrap.c:
	swig -I.. -tcl ming.i

clean:
	rm -f mingc$(NOVAR_SHLIBEXT) core ming_wrap.c ming_wrap.doc *~ *.o 

